# Production Deployment Checklist

## Pre-Deployment

### Backend
- [ ] Update all dependencies to latest stable versions
- [ ] Remove all console.log statements (or use proper logging)
- [ ] Set up proper error handling
- [ ] Configure CORS for production domains only
- [ ] Generate strong JWT secrets (min 256 bits)
- [ ] Set NODE_ENV=production
- [ ] Test all API endpoints
- [ ] Set up database backups
- [ ] Configure file upload limits
- [ ] Review and secure all endpoints

### Web Frontend
- [ ] Update API_URL to production backend
- [ ] Test build locally: `npm run build`
- [ ] Remove development-only code
- [ ] Optimize images and assets
- [ ] Test all pages and features
- [ ] Check mobile responsiveness
- [ ] Set up analytics (optional)
- [ ] Configure SEO metadata

### Mobile App
- [ ] Update API_URL to production backend
- [ ] Test on both Android and iOS
- [ ] Configure app icons and splash screens
- [ ] Update app.json with correct bundle IDs
- [ ] Set up proper app permissions
- [ ] Test camera and file permissions
- [ ] Prepare app store assets (screenshots, descriptions)

---

## Deployment Steps

### 1. Backend Deployment

**Using Railway (Recommended):**
```bash
# 1. Push code to GitHub
git add .
git commit -m "Production ready"
git push

# 2. Go to railway.app and deploy
# 3. Add PostgreSQL database
# 4. Set environment variables
# 5. Copy your backend URL
```

**Environment Variables to Set:**
```
NODE_ENV=production
PORT=5000
DATABASE_URL=<auto-generated-by-railway>
JWT_SECRET=<generate-strong-secret>
JWT_REFRESH_SECRET=<generate-strong-secret>
UPLOAD_PATH=./uploads
APP_URL=<your-web-app-url>
```

- [ ] Backend deployed
- [ ] Database created
- [ ] Environment variables set
- [ ] Backend URL copied: `_________________`

---

### 2. Database Setup

```bash
# Run migrations (if you have them)
# Or import existing data
```

- [ ] Database schema created
- [ ] Initial data seeded (departments, admin user)
- [ ] Backups configured

**Default Admin Credentials:**
- Email: admin@company.com
- Password: admin123
- [ ] **IMPORTANT: Change admin password after first login!**

---

### 3. Web Frontend Deployment

**Using Vercel:**
```bash
cd web

# Update API URL
# Edit web/.env.production:
# NEXT_PUBLIC_API_URL=https://your-backend.railway.app/api

# Deploy
vercel

# Deploy to production
vercel --prod
```

- [ ] Updated API URL in .env.production
- [ ] Deployed to Vercel
- [ ] Tested login
- [ ] Tested asset creation
- [ ] Tested QR scanning
- [ ] Web app URL: `_________________`

---

### 4. Mobile App Build

**For Testing:**
```bash
cd mobile

# Update API URL in src/services/api.ts
# const API_URL = 'https://your-backend.railway.app/api';

# Install EAS CLI
npm install -g eas-cli

# Login
eas login

# Configure
eas build:configure

# Build Android
eas build --platform android --profile preview

# Build iOS (requires Apple Developer account)
eas build --platform ios --profile preview
```

- [ ] Updated API URL in code
- [ ] Built Android APK
- [ ] Built iOS IPA (optional)
- [ ] Tested on physical devices
- [ ] All features working

---

## Post-Deployment

### Backend
- [ ] Test all API endpoints in production
- [ ] Verify file uploads work
- [ ] Check QR code generation
- [ ] Monitor error logs
- [ ] Set up uptime monitoring (uptimerobot.com)

### Web App
- [ ] Test login/logout
- [ ] Create test asset
- [ ] Upload image
- [ ] Generate QR code
- [ ] Test scanner
- [ ] Test all CRUD operations
- [ ] Check responsive design on mobile browser

### Mobile App
- [ ] Install on test devices (Android & iOS)
- [ ] Test login
- [ ] Test QR scanner
- [ ] Test asset creation
- [ ] Test image upload
- [ ] Test edit/delete (if admin)
- [ ] Check all tabs work

---

## Security

- [ ] Changed default admin password
- [ ] JWT secrets are strong and unique
- [ ] HTTPS enabled on all services
- [ ] CORS configured for specific domains only
- [ ] Database credentials secure
- [ ] No secrets in code (all in env variables)
- [ ] File upload limits set
- [ ] Rate limiting enabled (optional but recommended)

---

## Monitoring

- [ ] Set up error tracking (Sentry - optional)
- [ ] Configure uptime monitoring
- [ ] Set up database backups
- [ ] Enable application logs review

---

## URLs to Save

```
Backend API: _________________________________
Web App: _____________________________________
Admin Email: admin@company.com
Admin Password: ______________________________
Database Host: _______________________________
```

---

## Troubleshooting

### Backend Issues
- Check Railway logs
- Verify environment variables
- Test database connection
- Check file permissions for uploads folder

### Web App Issues
- Verify API_URL is correct
- Check browser console for errors
- Test API calls directly with Postman

### Mobile App Issues
- Verify API_URL in code
- Check app permissions (camera, storage)
- Test on actual device, not emulator
- Review Expo logs

---

## Quick Commands Reference

### Check if backend is running:
```bash
curl https://your-backend-url/api/health
```

### Test login:
```bash
curl -X POST https://your-backend-url/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@company.com","password":"admin123"}'
```

### View Railway logs:
```bash
# In Railway dashboard â†’ Your service â†’ Deployments â†’ View logs
```

### Rebuild mobile app:
```bash
cd mobile
eas build --platform android --profile preview --clear-cache
```

---

## Success Criteria

âœ… **Backend:**
- API responds on production URL
- Database connected and working
- File uploads save correctly
- QR codes generate properly

âœ… **Web App:**
- Loads without errors
- Login works
- Can create/edit/delete assets
- QR scanner functional
- Images display correctly

âœ… **Mobile App:**
- Installs on devices
- Connects to production API
- Camera/QR scanning works
- All features functional

---

## Next Steps After Production

1. **Share with Users**
   - Send web app URL
   - Distribute mobile APK
   - Provide login credentials

2. **Monitor Usage**
   - Check logs daily
   - Monitor errors
   - Track uptime

3. **Gather Feedback**
   - User experience
   - Bug reports
   - Feature requests

4. **Maintenance**
   - Regular backups
   - Security updates
   - Feature additions

---

**Good luck with your deployment! ðŸš€**
